<mat-form-field appearance="outline" class="rounded no-padding">
    <mat-label>Select Service</mat-label>
    <mat-select
        matNativeControl
        overlayPanelClass="testing"
        class="fw-bold"
        panelClass="round-dropdown"
        (selectionChange)="makeSelectedMicroservice(); microserviceSelected.emit(selectedMicroServiceId)"
        [(ngModel)]="selectedMicroServiceId"
        msg91AutoSelectDropdown
        (setControlValue)="
            selectedMicroServiceId = $event;
            makeSelectedMicroservice();
            microserviceSelected.emit(selectedMicroServiceId)
        "
    >
        <mat-option value=""><span class="text-dark mat-body-1">All</span></mat-option>
        <mat-option [value]="service.id" *ngFor="let service of microServiceType$ | async">
            <div class="d-flex align-items-center">
                <img
                    [src]="'assets/images/microservice-icon/' + service.name.toLowerCase().split(' ').join('') + '.svg'"
                    width="20"
                    height="20"
                    loading="lazy"
                    alt="Microservice icon"
                />
                <span class="mat-body-1 pl-2">{{ service.name }}</span>
            </div>
        </mat-option>
        <mat-select-trigger>
            <img
                *ngIf="selectedName !== 'All'"
                style="margin-bottom: -5px"
                [src]="imagePath"
                width="20"
                height="20"
                class="mr-2"
                loading="lazy"
                alt="Microservice icon"
            />
            <span>{{ selectedName }}</span>
        </mat-select-trigger>
    </mat-select>
</mat-form-field>
